{"remainingRequest":"/Users/wei.d.zhang/vue_env/node_modules/thread-loader/dist/cjs.js!/Users/wei.d.zhang/vue_env/node_modules/babel-loader/lib/index.js!/Users/wei.d.zhang/vue_env/node_modules/eslint-loader/index.js??ref--13-0!/Users/wei.d.zhang/vue_env/src/store.js","dependencies":[{"path":"/Users/wei.d.zhang/vue_env/src/store.js","mtime":1603691823768},{"path":"/Users/wei.d.zhang/vue_env/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wei.d.zhang/vue_env/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wei.d.zhang/vue_env/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wei.d.zhang/vue_env/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIGRhdGFTZXQ6IHt9LAogICAgY2FydDogW10KICB9LAogIG11dGF0aW9uczogewogICAgbXV0YXRlRGF0YVNldDogZnVuY3Rpb24gbXV0YXRlRGF0YVNldChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kYXRhU2V0ID0gcGF5bG9hZDsKICAgIH0sCiAgICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KHN0YXRlLCBwcm9kdWN0KSB7CiAgICAgIHN0YXRlLmNhcnQucHVzaChwcm9kdWN0KTsKICAgIH0sCiAgICByZW1vdmVDYXJ0OiBmdW5jdGlvbiByZW1vdmVDYXJ0KHN0YXRlLCB0YXJnZXRJbmRleCkgewogICAgICBzdGF0ZS5jYXJ0LnNwbGljZSh0YXJnZXRJbmRleCwgMSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBjb21taXREYXRhU2V0OiBmdW5jdGlvbiBjb21taXREYXRhU2V0KHN0b3JlKSB7CiAgICAgIHJldHVybiBheGlvcy5nZXQoJy9kYXRhX21pbi5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzdG9yZS5jb21taXQoJ211dGF0ZURhdGFTZXQnLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUubG9nKHJlYXNvbi5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkQ2FydDogZnVuY3Rpb24gYWRkQ2FydChzdG9yZSwgcHJvZHVjdCkgewogICAgICBzdG9yZS5jb21taXQoJ2FkZENhcnQnLCBwcm9kdWN0KTsKICAgIH0sCiAgICByZW1vdmVDYXJ0OiBmdW5jdGlvbiByZW1vdmVDYXJ0KHN0b3JlLCB0YXJnZXRJbmRleCkgewogICAgICBzdG9yZS5jb21taXQoJ3JlbW92ZUNhcnQnLCB0YXJnZXRJbmRleCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRTdGF0ZURhdGFTZXQ6IGZ1bmN0aW9uIGdldFN0YXRlRGF0YVNldChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZGF0YVNldDsKICAgIH0sCiAgICBnZXRDYXJ0RGF0YTogZnVuY3Rpb24gZ2V0Q2FydERhdGEoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNhcnQ7CiAgICB9LAogICAgZ2V0Q2FydFRvdGFsOiBmdW5jdGlvbiBnZXRDYXJ0VG90YWwoc3RhdGUpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKCiAgICAgIGZvciAodmFyIGl0ZW0gaW4gc3RhdGUuY2FydCkgewogICAgICAgIHRvdGFsICs9IHN0YXRlLmNhcnRbaXRlbV0ucHJpY2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0b3RhbDsKICAgIH0sCiAgICBnZXRDYXRlZ29yaWVzOiBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKHN0YXRlKSB7CiAgICAgIHZhciBjYXRlZ29yaWVzID0gW107CgogICAgICBmb3IgKHZhciBpdGVtIGluIHN0YXRlLmRhdGFTZXQuYXJ0aWNsZXMpIHsKICAgICAgICB2YXIgY2F0ZWdvcnkgPSBzdGF0ZS5kYXRhU2V0LmFydGljbGVzW2l0ZW1dLmNhdGVnb3J5OwoKICAgICAgICBpZiAoY2F0ZWdvcmllcy5pbmRleE9mKGNhdGVnb3J5KSA9PSAtMSkgewogICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBjYXRlZ29yaWVzOwogICAgfSwKICAgIGdldEFydGljbGVzOiBmdW5jdGlvbiBnZXRBcnRpY2xlcyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgdmFyIGFydGljbGVMaXN0ID0gW107CgogICAgICAgIGZvciAodmFyIGl0ZW0gaW4gc3RhdGUuZGF0YVNldC5hcnRpY2xlcykgewogICAgICAgICAgdmFyIGFydGljbGUgPSBzdGF0ZS5kYXRhU2V0LmFydGljbGVzW2l0ZW1dOwoKICAgICAgICAgIGlmIChhcnRpY2xlLmNhdGVnb3J5ID09PSBjYXRlZ29yeSkgewogICAgICAgICAgICBhcnRpY2xlTGlzdC5wdXNoKGFydGljbGUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFydGljbGVMaXN0OwogICAgICB9OwogICAgfSwKICAgIGdldFJlbGF0ZWQ6IGZ1bmN0aW9uIGdldFJlbGF0ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgdmFyIHJlbGF0ZWRMaXN0ID0gW107CgogICAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuZGF0YVNldC5wcm9kdWN0cykgewogICAgICAgICAgdmFyIGl0ZW0gPSBzdGF0ZS5kYXRhU2V0LnByb2R1Y3RzW2ldOwoKICAgICAgICAgIGlmIChpdGVtLnNlcmllcyA9PT0gcHJvZHVjdC5zZXJpZXMpIHsKICAgICAgICAgICAgaWYgKGl0ZW0ucGlkICE9IHByb2R1Y3QucGlkKSB7CiAgICAgICAgICAgICAgcmVsYXRlZExpc3QucHVzaChpdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlbGF0ZWRMaXN0OwogICAgICB9OwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/wei.d.zhang/vue_env/src/store.js"],"names":["Vue","Vuex","axios","use","Store","state","dataSet","cart","mutations","mutateDataSet","payload","addCart","product","push","removeCart","targetIndex","splice","actions","commitDataSet","store","get","then","response","commit","data","catch","reason","console","log","message","getters","getStateDataSet","getCartData","getCartTotal","total","item","price","getCategories","categories","articles","category","indexOf","getArticles","articleList","article","getRelated","relatedList","i","products","series","pid"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    dataSet: {},\n    cart: []\n   },\n   mutations: {\n    mutateDataSet(state, payload) {\n     state.dataSet = payload;\n    },\n    addCart(state, product){\n      state.cart.push(product)\n    },\n    removeCart(state, targetIndex){\n      state.cart.splice(targetIndex,1)\n    },\n   },\n   actions: {\n    commitDataSet(store) {\n     return axios.get('/data_min.json')\n      .then(response => {\n       store.commit('mutateDataSet', response.data)\n      })\n      .catch((reason) => {\n       console.log(reason.message)\n      })\n    },\n    addCart(store, product){\n      store.commit('addCart', product)\n    },\n    removeCart(store, targetIndex){\n      store.commit('removeCart', targetIndex)\n    },\n   },\n   getters: {\n    getStateDataSet: (state) => state.dataSet,\n    getCartData: (state) => state.cart,\n    getCartTotal(state) {\n      let total = 0\n      for (const item in state.cart) {\n        total += state.cart[item].price\n        }\n      return total\n    },\n    getCategories(state) {\n      let categories = []\n      for (const item in state.dataSet.articles) {\n        const category = state.dataSet.articles[item].category\n        if (categories.indexOf(category) == -1){\n          categories.push(category)\n        }   \n      }\n      return categories\n    },\n    getArticles(state) {\n      return category => {\n        let articleList = []\n        for (const item in state.dataSet.articles) {\n          const article = state.dataSet.articles[item]\n          if (article.category === category) {\n            articleList.push(article)\n          }\n        }\n        return articleList\n      }\n    },\n    getRelated(state) {\n      return product => {\n        let relatedList = []\n        for (const i in state.dataSet.products) {\n          const item = state.dataSet.products[i]\n          if (item.series === product.series) {\n            if (item.pid != product.pid) {\n              relatedList.push(item)\n            }\n          }\n        }\n        return relatedList\n      }\n    }\n  }\n})"]}]}