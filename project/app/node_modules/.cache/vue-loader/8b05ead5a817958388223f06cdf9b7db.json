{"remainingRequest":"/Users/wei.d.zhang/vmd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wei.d.zhang/vmd/src/views/Master.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wei.d.zhang/vmd/src/views/Master.vue","mtime":1603342743583},{"path":"/Users/wei.d.zhang/vmd/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wei.d.zhang/vmd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wei.d.zhang/vmd/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgY29sb3I6ICdncmV5IGxpZ2h0ZW4tMycsCiAgICByZXF1aXJlZDogWwogICAgICB2YWx1ZSA9PiAhIXZhbHVlIHx8ICdSZXF1aXJlZC4nCiAgICBdLAogICAgb3ZlcmxheTogZmFsc2UsCiAgfSksCiAgcHJvcHM6WydvYmonLCdub3cnLCdjYXRMaXN0J10sCiAgbWV0aG9kczogewogICAgc2F2ZTogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgLy8gR0EgdGFnCiAgICAgIHRoaXMuJGdhLmV2ZW50KCdtYXN0ZXJFdmVudCcsICdzYXZlJywgJzxzYXZlPm1hc3RlcicgLCAxKQogICAgICBjb25zdCBuZXdDYXRlZ29yaWVzID0gW10KICAgICAgY29uc3QgbmV3VGFncyA9IFtdCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmouY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLm9iai5jYXRlZ29yaWVzW2ldLm5hbWUgIT0gIiIpIHsKICAgICAgICAgIG5ld0NhdGVnb3JpZXMucHVzaCh0aGlzLmNhdGVnb3JpZXNbaV0pCiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmoudGFncy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLm9iai50YWdzW2ldLm5hbWUgIT0gIiIpIHsKICAgICAgICAgIG5ld1RhZ3MucHVzaCh0aGlzLnRhZ3NbaV0pCiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMub2JqLmNhdGVnb3JpZXMgPSBuZXdDYXRlZ29yaWVzCiAgICAgIHRoaXMub2JqLnRhZ3MgPSBuZXdUYWdzCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VEYXRhJywgdGhpcy5vYmopCiAgICAgIHRoaXMub3ZlcmxheSA9ICF0aGlzLm92ZXJsYXkKICAgIH0sCiAgICBhZGRDYXRlZ29yeTogZnVuY3Rpb24oKSB7CiAgICAgIGNvbnN0IG5ld0l0ZW0gPSB7CiAgICAgICAgaW5kZXg6IHRoaXMub2JqLmNhdGVnb3JpZXNbdGhpcy5vYmouY2F0ZWdvcmllcy5sZW5ndGggLSAxXS5pbmRleCArIDEsCiAgICAgICAgbmFtZTogJycKICAgICAgfQogICAgICB0aGlzLm9iai5jYXRlZ29yaWVzLnB1c2gobmV3SXRlbSkKICAgIH0sCiAgICBhZGRUYWc6IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBuZXdJdGVtID0gewogICAgICAgIGluZGV4OiB0aGlzLm9iai50YWdzW3RoaXMub2JqLnRhZ3MubGVuZ3RoIC0gMV0uaW5kZXggKyAxLAogICAgICAgIG5hbWU6ICcnCiAgICAgIH0KICAgICAgdGhpcy5vYmoudGFncy5wdXNoKG5ld0l0ZW0pCiAgICB9LAogICAgcmVtb3ZlQ2F0ZWdvcnk6IGZ1bmN0aW9uKHRhcmdldEluZGV4KSB7CiAgICAgIHRoaXMub2JqLmNhdGVnb3JpZXMuc3BsaWNlKHRhcmdldEluZGV4LTEsMSkKICAgIH0sCiAgICByZW1vdmVUYWc6IGZ1bmN0aW9uKHRhcmdldEluZGV4KSB7CiAgICAgIHRoaXMub2JqLnRhZ3Muc3BsaWNlKHRhcmdldEluZGV4LTEsMSkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBvdmVybGF5ICh2YWwpIHsKICAgICAgdmFsICYmIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlCiAgICAgIH0sIDIwMDApCiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJGdhLnBhZ2UoewogICAgICBwYWdlOiAnL21hc3RlcicsCiAgICAgIHRpdGxlOiAnTWF0ZXInLAogICAgICBsb2NhdGlvbjogd2luZG93LmxvY2F0aW9uLmhyZWYKICAgIH0pCiAgfQp9Cg=="},{"version":3,"sources":["Master.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Master.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <h1>Master Editor</h1>\n    <v-card-text class=\"red--text\"><v-icon class=\"pr-2 red--text\">mdi-alert</v-icon>Please do not use browser refresh or browser back, it will make the data disappear.</v-card-text>\n    <h2>Default Path</h2>\n    <v-row>\n      <v-col col=\"12\">\n        <v-text-field class=\"px-2\" label=\"Default Path\" :rules=\"required\" hide-details=\"auto\" :color=\"color\" :value=\"obj.path\" hint=\"This is only the default path for image folder, you can have different path for each article\"></v-text-field>\n      </v-col>\n    </v-row>\n    <v-divider light class=\"my-4\"></v-divider>\n    <v-row>\n      <v-col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n        <h2>Categories</h2>\n        <v-row v-for=\"category in obj.categories\" :key=\"category.index\">\n          <v-col xs=\"10\" sm=\"10\" md=\"10\" lg=\"10\" xl=\"10\">\n            <v-text-field class=\"px-2\" label=\"Category\" :rules=\"required\" hide-details=\"auto\" :color=\"color\" v-model=\"category.name\"></v-text-field>\n          </v-col>\n          <v-col xs=\"2\" sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\" class=\"pt-8 px-0\" @click=\"removeCategory(category.index)\">\n            <v-icon>mdi-minus-circle</v-icon>\n          </v-col>\n        </v-row>\n        <v-btn min-width=\"210\" color=\"grey darken-1 ma-4\" dark @click=\"addCategory\">Add a new category</v-btn>\n      </v-col>\n      <v-col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n        <h2>Tags</h2>\n        <v-row v-for=\"tag in obj.tags\" :key=\"tag.index\">\n          <v-col xs=\"10\" sm=\"10\" md=\"10\" lg=\"10\" xl=\"10\">\n            <v-text-field class=\"px-2\" label=\"Tag\" :rules=\"required\" hide-details=\"auto\" :color=\"color\" v-model=\"tag.name\"></v-text-field>\n          </v-col>\n          <v-col xs=\"2\" sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\" class=\"pt-8 px-0\" @click=\"removeTag(tag.index)\">\n            <v-icon>mdi-minus-circle</v-icon>\n          </v-col>\n        </v-row>\n        <v-btn min-width=\"210\" color=\"grey darken-1 ma-4\" dark @click=\"addTag\">Add a new tag</v-btn>\n      </v-col>\n    </v-row>\n    <v-divider light class=\"my-4\"></v-divider>\n    <v-btn min-width=\"120\" color=\"green darken-1 ma-4\" dark @click=\"save\">Save</v-btn>\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n  </v-container>\n</template>\n<script>\n  export default {\n    data: () => ({\n      color: 'grey lighten-3',\n      required: [\n        value => !!value || 'Required.'\n      ],\n      overlay: false,\n    }),\n    props:['obj','now','catList'],\n    methods: {\n      save: function() {\n        this.loading = true\n        // GA tag\n        this.$ga.event('masterEvent', 'save', '<save>master' , 1)\n        const newCategories = []\n        const newTags = []\n        for (let i = 0; i < this.obj.categories.length; i++) {\n          if (this.obj.categories[i].name != \"\") {\n            newCategories.push(this.categories[i])\n          }\n        }\n        for (let i = 0; i < this.obj.tags.length; i++) {\n          if (this.obj.tags[i].name != \"\") {\n            newTags.push(this.tags[i])\n          }\n        }\n        this.obj.categories = newCategories\n        this.obj.tags = newTags\n        this.$store.dispatch('changeData', this.obj)\n        this.overlay = !this.overlay\n      },\n      addCategory: function() {\n        const newItem = {\n          index: this.obj.categories[this.obj.categories.length - 1].index + 1,\n          name: ''\n        }\n        this.obj.categories.push(newItem)\n      },\n      addTag: function() {\n        const newItem = {\n          index: this.obj.tags[this.obj.tags.length - 1].index + 1,\n          name: ''\n        }\n        this.obj.tags.push(newItem)\n      },\n      removeCategory: function(targetIndex) {\n        this.obj.categories.splice(targetIndex-1,1)\n      },\n      removeTag: function(targetIndex) {\n        this.obj.tags.splice(targetIndex-1,1)\n      }\n    },\n    watch: {\n      overlay (val) {\n        val && setTimeout(() => {\n          this.overlay = false\n        }, 2000)\n      },\n    },\n    mounted() {\n      this.$ga.page({\n        page: '/master',\n        title: 'Mater',\n        location: window.location.href\n      })\n    }\n  }\n</script>\n<style scoped>\n\n</style>"]}]}